{
  "skill_id": "terminal",
  "name": "터미널 실행기",
  "version": "1.0.0",
  "description": "허용된 명령만 안전하게 실행하고 결과를 파싱한다. allowlist 기반으로 위험 명령을 차단한다.",
  "category": "terminal",
  "dependencies": [],
  "cost": "free",
  "inputs": [
    {"name": "command", "type": "string", "description": "실행할 셸 명령어", "required": true},
    {"name": "timeout", "type": "number", "description": "타임아웃(초), 기본 30초", "required": false},
    {"name": "cwd", "type": "string", "description": "작업 디렉토리 (레포 내부만 허용)", "required": false}
  ],
  "outputs": [
    {"name": "stdout", "type": "string", "description": "표준 출력"},
    {"name": "stderr", "type": "string", "description": "표준 에러"},
    {"name": "returncode", "type": "number", "description": "종료 코드"},
    {"name": "success", "type": "boolean", "description": "성공 여부 (returncode == 0)"}
  ],
  "safety_rules": [
    "allowlist 명령만 실행: python, pip, git, ls, cat, head, tail, grep, find, echo, mkdir, cp, mv, pytest, npm, node",
    "절대 차단 명령: rm -rf, format, mkfs, dd, shutdown, reboot, powershell -enc, curl|bash, wget|sh, eval, exec",
    "셸 파이프(|)는 allowlist 명령 조합만 허용",
    "환경변수 중 SECRET, KEY, TOKEN, PASSWORD 포함 값은 출력에서 마스킹",
    "타임아웃 초과 시 프로세스 강제 종료",
    "레포 루트 외부에서 명령 실행 금지"
  ],
  "examples": [
    {
      "description": "Python 스크립트 실행",
      "input": {"command": "python scripts/create.py create --next --name test --role general", "timeout": 30},
      "expected_output": {"stdout": "CREATED_ID=A0010 STATUS=OK", "stderr": "", "returncode": 0, "success": true}
    },
    {
      "description": "위험 명령 차단",
      "input": {"command": "rm -rf /"},
      "expected_output": {"stdout": "", "stderr": "BLOCKED: 금지된 명령입니다", "returncode": -1, "success": false}
    }
  ],
  "prompt": "너는 터미널 실행 스킬이다. allowlist에 포함된 안전한 명령만 실행하라. 위험 명령, 비밀키 노출, 레포 외부 실행을 절대 허용하지 마라."
}
